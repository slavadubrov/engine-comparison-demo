<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 520">
  <defs>
    <linearGradient id="sparkGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#E25A1C;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#F09819;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="rayGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#00A1E4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0062B1;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="daftGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#7B68EE;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4B0082;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" font-family="system-ui, sans-serif" font-size="20" font-weight="bold" fill="#333">Pipeline Comparison</text>
  <text x="450" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" fill="#666">Three engines for different workloads</text>

  <!-- Column Headers -->
  <g transform="translate(50, 80)">
    <rect x="0" y="0" width="250" height="40" rx="6" fill="url(#sparkGrad)" filter="url(#shadow)"/>
    <text x="125" y="26" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="white">Apache Spark</text>
  </g>

  <g transform="translate(325, 80)">
    <rect x="0" y="0" width="250" height="40" rx="6" fill="url(#rayGrad)" filter="url(#shadow)"/>
    <text x="125" y="26" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="white">Ray Data</text>
  </g>

  <g transform="translate(600, 80)">
    <rect x="0" y="0" width="250" height="40" rx="6" fill="url(#daftGrad)" filter="url(#shadow)"/>
    <text x="125" y="26" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="white">Daft</text>
  </g>

  <!-- Spark Column -->
  <g transform="translate(50, 135)">
    <rect x="0" y="0" width="250" height="350" rx="8" fill="#FFF3E0" stroke="#E25A1C" stroke-width="1"/>

    <text x="125" y="25" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#E25A1C">Best For</text>
    <text x="125" y="42" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#333">Petabyte-scale tabular ETL</text>

    <line x1="20" y1="55" x2="230" y2="55" stroke="#E25A1C" stroke-opacity="0.3"/>

    <text x="125" y="75" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#E25A1C">Workload</text>
    <text x="125" y="92" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#333">NYC Taxi Trip Analysis</text>

    <line x1="20" y1="105" x2="230" y2="105" stroke="#E25A1C" stroke-opacity="0.3"/>

    <text x="125" y="125" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#E25A1C">Pipeline Steps</text>

    <!-- Pipeline boxes -->
    <rect x="30" y="135" width="190" height="25" rx="4" fill="#E25A1C" fill-opacity="0.1" stroke="#E25A1C"/>
    <text x="125" y="152" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">read_parquet(s3://lake/taxi/)</text>

    <text x="125" y="170" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#666">v</text>

    <rect x="30" y="175" width="190" height="25" rx="4" fill="#E25A1C" fill-opacity="0.1" stroke="#E25A1C"/>
    <text x="125" y="192" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">filter(fare > $30)</text>

    <text x="125" y="210" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#666">v</text>

    <rect x="30" y="215" width="190" height="25" rx="4" fill="#E25A1C" fill-opacity="0.1" stroke="#E25A1C"/>
    <text x="125" y="232" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">join(zone_lookup)</text>

    <text x="125" y="250" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#666">v</text>

    <rect x="30" y="255" width="190" height="25" rx="4" fill="#E25A1C" fill-opacity="0.1" stroke="#E25A1C"/>
    <text x="125" y="272" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">groupBy(borough).sum()</text>

    <text x="125" y="290" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#666">v</text>

    <rect x="30" y="295" width="190" height="25" rx="4" fill="#E25A1C" fill-opacity="0.2" stroke="#E25A1C" stroke-width="2"/>
    <text x="125" y="312" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">write_parquet(warehouse/)</text>

    <line x1="20" y1="330" x2="230" y2="330" stroke="#E25A1C" stroke-opacity="0.3"/>
    <text x="125" y="347" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#666">Script: spark_etl.py</text>
  </g>

  <!-- Ray Column -->
  <g transform="translate(325, 135)">
    <rect x="0" y="0" width="250" height="350" rx="8" fill="#E3F2FD" stroke="#00A1E4" stroke-width="1"/>

    <text x="125" y="25" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#00A1E4">Best For</text>
    <text x="125" y="42" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#333">GPU batch inference at scale</text>

    <line x1="20" y1="55" x2="230" y2="55" stroke="#00A1E4" stroke-opacity="0.3"/>

    <text x="125" y="75" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#00A1E4">Workload</text>
    <text x="125" y="92" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#333">Image Classification (ResNet-50)</text>

    <line x1="20" y1="105" x2="230" y2="105" stroke="#00A1E4" stroke-opacity="0.3"/>

    <text x="125" y="125" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#00A1E4">Pipeline Steps</text>

    <!-- Pipeline boxes -->
    <rect x="30" y="135" width="190" height="25" rx="4" fill="#00A1E4" fill-opacity="0.1" stroke="#00A1E4"/>
    <text x="125" y="152" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">read_images(s3://bucket/)</text>

    <text x="125" y="170" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#666">v</text>

    <rect x="30" y="175" width="190" height="55" rx="4" fill="#00A1E4" fill-opacity="0.1" stroke="#00A1E4"/>
    <text x="125" y="195" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">map_batches(</text>
    <text x="125" y="208" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">  ImageClassifier,</text>
    <text x="125" y="221" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">  num_gpus=1)</text>

    <text x="125" y="245" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#666">v</text>

    <rect x="30" y="250" width="190" height="25" rx="4" fill="#00A1E4" fill-opacity="0.2" stroke="#00A1E4" stroke-width="2"/>
    <text x="125" y="267" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">write_parquet(predictions/)</text>

    <!-- GPU indicator -->
    <rect x="75" y="285" width="100" height="30" rx="4" fill="#00A1E4" filter="url(#shadow)"/>
    <text x="125" y="305" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" font-weight="bold" fill="white">GPU Actor Pool</text>

    <line x1="20" y1="330" x2="230" y2="330" stroke="#00A1E4" stroke-opacity="0.3"/>
    <text x="125" y="347" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#666">Script: ray_inference.py</text>
  </g>

  <!-- Daft Column -->
  <g transform="translate(600, 135)">
    <rect x="0" y="0" width="250" height="350" rx="8" fill="#EDE7F6" stroke="#7B68EE" stroke-width="1"/>

    <text x="125" y="25" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#7B68EE">Best For</text>
    <text x="125" y="42" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#333">Multimodal data with GPUs</text>

    <line x1="20" y1="55" x2="230" y2="55" stroke="#7B68EE" stroke-opacity="0.3"/>

    <text x="125" y="75" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#7B68EE">Workload</text>
    <text x="125" y="92" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#333">CLIP Image Embeddings</text>

    <line x1="20" y1="105" x2="230" y2="105" stroke="#7B68EE" stroke-opacity="0.3"/>

    <text x="125" y="125" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#7B68EE">Pipeline Steps</text>

    <!-- Pipeline boxes -->
    <rect x="30" y="135" width="190" height="25" rx="4" fill="#7B68EE" fill-opacity="0.1" stroke="#7B68EE"/>
    <text x="125" y="152" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">read_parquet(metadata)</text>

    <text x="125" y="170" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#666">v</text>

    <rect x="30" y="175" width="190" height="25" rx="4" fill="#7B68EE" fill-opacity="0.1" stroke="#7B68EE"/>
    <text x="125" y="192" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">col("url").download()</text>

    <text x="125" y="210" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#666">v</text>

    <rect x="30" y="215" width="190" height="25" rx="4" fill="#7B68EE" fill-opacity="0.1" stroke="#7B68EE"/>
    <text x="125" y="232" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">ImageEmbedder(bytes)</text>

    <text x="125" y="250" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#666">v</text>

    <rect x="30" y="255" width="190" height="25" rx="4" fill="#7B68EE" fill-opacity="0.2" stroke="#7B68EE" stroke-width="2"/>
    <text x="125" y="272" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">write_parquet(embeddings/)</text>

    <!-- GPU + Rust indicator -->
    <rect x="45" y="285" width="70" height="30" rx="4" fill="#7B68EE" filter="url(#shadow)"/>
    <text x="80" y="305" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" font-weight="bold" fill="white">GPU UDF</text>

    <rect x="125" y="285" width="70" height="30" rx="4" fill="#4B0082" filter="url(#shadow)"/>
    <text x="160" y="305" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" font-weight="bold" fill="white">Rust I/O</text>

    <line x1="20" y1="330" x2="230" y2="330" stroke="#7B68EE" stroke-opacity="0.3"/>
    <text x="125" y="347" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#666">Script: daft_pipeline.py</text>
  </g>
</svg>
